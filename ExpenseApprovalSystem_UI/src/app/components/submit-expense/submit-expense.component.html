<div class="submit-expense-container">
  <h2>Submit Expense</h2>
  
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Amount</mat-label>
      <input 
        matInput 
        type="number" 
        formControlName="amount" 
        placeholder="Enter amount"
        step="0.01"
        min="0"
      />
      <span matPrefix>$&nbsp;</span>
      <mat-error *ngIf="form.get('amount')?.hasError('required')">
        Amount is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Category</mat-label>
      <mat-select formControlName="category" placeholder="Select a category">
        <mat-option value="Travel">Travel</mat-option>
        <mat-option value="Food">Food</mat-option>
        <mat-option value="Accommodation">Accommodation</mat-option>
        <mat-option value="Office Supplies">Office Supplies</mat-option>
        <mat-option value="Other">Other</mat-option>
      </mat-select>
      <mat-error *ngIf="form.get('category')?.hasError('required')">
        Category is required
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Description</mat-label>
      <textarea 
        matInput 
        formControlName="description" 
        placeholder="Enter description"
        rows="4"
      ></textarea>
      <mat-error *ngIf="form.get('description')?.hasError('required')">
        Description is required
      </mat-error>
    </mat-form-field>

    <div class="file-upload">
      <button 
        type="button" 
        mat-stroked-button 
        (click)="fileInput.click()"
        class="full-width">
        <mat-icon>attach_file</mat-icon>
        Choose File (Optional)
      </button>
      <input 
        #fileInput
        type="file" 
        (change)="onFileChange($event)"
        accept=".pdf,.jpg,.jpeg,.png,.doc,.docx"
        hidden
      />
      <span class="file-name" *ngIf="form.get('file')?.value">
        {{ form.get('file')?.value?.name }}
      </span>
    </div>

    <button 
      mat-raised-button 
      color="primary" 
      type="submit" 
      [disabled]="form.invalid"
      class="full-width submit-btn">
      <mat-icon>send</mat-icon>
      Submit Expense
    </button>
  </form>
</div>
